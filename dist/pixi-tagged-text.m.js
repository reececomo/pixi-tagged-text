import*as u from"pixi.js";function F(u,F){for(var t=0;t<F.length;t++){var e=F[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}function t(){return t=Object.assign||function(u){for(var F=1;F<arguments.length;F++){var t=arguments[F];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(u[e]=t[e])}return u},t.apply(this,arguments)}function e(u,F){return e=Object.setPrototypeOf||function(u,F){return u.__proto__=F,u},e(u,F)}function n(u,F){(null==F||F>u.length)&&(F=u.length);for(var t=0,e=new Array(F);t<F;t++)e[t]=u[t];return e}function r(u,F){var t="undefined"!=typeof Symbol&&u[Symbol.iterator]||u["@@iterator"];if(t)return(t=t.call(u)).next.bind(t);if(Array.isArray(u)||(t=function(u,F){if(u){if("string"==typeof u)return n(u,F);var t=Object.prototype.toString.call(u).slice(8,-1);return"Object"===t&&u.constructor&&(t=u.constructor.name),"Map"===t||"Set"===t?Array.from(u):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(u,F):void 0}}(u))||F&&u&&"number"==typeof u.length){t&&(u=t);var e=0;return function(){return e>=u.length?{done:!0}:{done:!1,value:u[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=function(u,F){return t({},u,F)},a=function(u){return u[u.length-1]},s=function(u){return void 0!==u},l=function(u,F){return function(t){return[t].flat(255).reduce(u,F)}},D=function(u){return l(function(F,t){return F&&u(t)},!0)},E=function(u,F,t){return void 0===F&&(F=!1),function(e,n){!0!==F&&(0,console.warn)("["+e+"] "+n),u&&u({target:t,code:e,message:n,type:"warning"})}},c=function(F){return"string"==typeof F||F instanceof u.Texture||F instanceof HTMLCanvasElement||F instanceof HTMLVideoElement};!function(u){u.default="px",u.px="px",u.em="em",u.rem="rem",u.pt="pt",u.pc="pc",u.in="in",u.cm="cm",u.mm="mm",u.percent="%",u.unknown="unknown"}(i||(i={}));var d,B,C,h,f=i.default,p=function(){return{content:"",bounds:new u.Rectangle,fontProperties:{ascent:0,descent:0,fontSize:0},style:{},tags:"",textDecorations:[]}},A=function(u){return""!==u&&u.split("").every(function(u){return 0===u.search(/\s/)})},g=D(function(F){return F.content instanceof u.Sprite}),v=function(u){return"string"==typeof u.content},y=D(v),w=D(function(u){return void 0!==u&&v(u)&&A(u.content)}),b=function(u){return void 0!==u&&v(u)&&A(F=u.content)&&"\n"===F;var F},x=function(u){return void 0!==u&&D(b)(u)},m=(d=w,function(u){return!d(u)}),S=function(u){return u instanceof Object&&0===Object.keys(u).length},_=function(u){if(void 0===u)throw new Error("value is undefined!");if("number"==typeof u)return{value:u,unit:f};u=u.trim();var F=new RegExp(Object.values(i).join("|")+"$"),t=u.search(F);if(-1!==t)return{value:parseFloat(u.slice(0,t)),unit:u.slice(t)};if(0===u.search(/^[\d.]+$/)){var e=parseFloat(u);if(!1===isNaN(e))return{value:parseFloat(u),unit:f}}return E()("invalid-units",u+" is not a valid measurement value. Please use one of the following units: "+Object.keys(i).join(", ")),{value:NaN,unit:i.unknown}},T=E(),k=function(u){void 0===u&&(u=["\\w+"]);var F=function(u){return"("+u+")"},t=F(u.join("|")),e=F("(?:\\s+[^>]*)*")+"+";return new RegExp("<"+t+e+"\\s*>|</"+t+"\\s*>","g")},N=function(u){if(void 0===u&&(u=""),""===u)return{};var F=u.trim().match(/[a-zA-Z][a-zA-Z0-9]*=('|")[^'"]*('|")/g);if(null===F)throw new Error('Invalid attributes string: "'+u+'"');return[].concat(F).reduce(function(u,F){var t=[F.substring(0,F.indexOf("=")),F.substring(F.indexOf("=")+1)],e=t[0].trim(),n=t[1].substring(1,t[1].length-1).trim();return u[e]=n,u},{})},j=function(u){var F=u[1],t=u.index;return{tag:u[0],tagName:null!=F?F:u[3],isOpening:void 0!==F,attributes:N(u[2]),index:t}},M=(B=function(u){return"("+u+")"},C=function(u){return u+"*"},new RegExp("<"+B("[A-Za-z_]"+C("[A-Za-z0-9_]"))+B(C(function(){return"[^"+[].slice.call(arguments).join("")+"]"}("/",">")))+"/>","g")),O=function(u){return t({tag:u.tagName,children:[]},S(u.attributes)?{}:{attributes:u.attributes})},I=function(u){for(var F=u.split(" "),t="",e=0;e<F.length;e++)t+=""+F[e].charAt(0).toUpperCase()+F[e].substr(1)+" ";return t.trim()},P=function(u){return 0===u.search(/^\s+$/)},z=function(F){return u.TextMetrics.measureFont(F.font)},U=function(u,F){if(void 0===F&&(F=!1),F)return u.updateText(!1),z(u.context);var t,e=z(u.context),n=null!=(t=u.style.fontSize)?t:NaN;if(10===e.ascent&&3===e.descent&&(isNaN(Number(n))||n>13))throw new Error("getFontPropertiesOfText() returned metrics associated with a Text field that has not been updated yet. Please try using the forceUpdate parameter when you call this function.");return z(u.context)},W=((h={valign:"baseline",dropShadowColor:0,fill:0,fontSize:26,stroke:0}).imgDisplay="inline",h.wordWrap=!0,h.wordWrapWidth=500,h.iconScale=1,h.breakLines=!0,h);Object.freeze(W);var L=o,R=function(u){return u.filter(s).reduce(L,{})},H=function(u,F,t){var e;void 0===t&&(t={});var n=null!=(e=function(u,F){if(void 0===u&&(u={}),void 0===F&&(F={}),!S(F)||!S(u))return o(F,function(u){var F={};for(var t in u){var e=u[t],n="string"==typeof e&&0===e.trim().search(/^-?[0-9]*\.?[0-9]+$/);F[t]=n?parseFloat(e):e}return F}(u))}(t,F[u]))?e:{};if(0!==Object.values(n).length)return n},G=function(u){if(void 0!==u)switch(u){case"justify":case"justify-left":case"justify-all":return"left";case"justify-center":return"center";case"justify-right":return"right";default:return u}},$=new u.Text(""),J=function(F,t){return void 0===t&&(t={x:0,y:0}),new u.Rectangle(t.x+F.x,t.y+F.y,F.width,F.height)},V=function(u){return function(F){return F.map(function(u){return function(F){return t({},F,{x:F.x+u.x,y:F.y+u.y})}}(u))}},Z=function(u){var F=u[0],t=a(u);return void 0===F?0:t===F?F.width:t.x+t.width-F.x},Y=function(u){return function(F){var e;return t({},F,((e={}).x=u,e))}},X=function(u){return function(F){var t;return F.map(function(F){return void 0===t?(F.bounds.x=u,t=F.bounds):(F.bounds.x=t.x+t.width,t=F.bounds),F})}},q=function(u,F){if(void 0===u&&(u={x:NaN,y:NaN,width:NaN,height:NaN}),void 0===F&&(F={x:NaN,y:NaN,width:NaN,height:NaN}),isNaN(u.x))return F;var t=Math.min(u.x,F.x),e=Math.min(u.y,F.y);return{x:t,y:e,width:Math.max(u.x+u.width,F.x+F.width)-t,height:Math.max(u.y+u.height,F.y+F.height)-e}},K=l(function(u,F){return q(u,F.bounds)},{x:NaN,y:NaN,width:NaN,height:NaN}),Q=function(u){return u.reduce(function(u,F,t){return 0===t?[Y(0)(F)]:u.concat([Y(u[t-1].x+u[t-1].width)(F)])},[])},uu=function(u){return function(F){return V({x:u-Z(F),y:0})(Q(F))}},Fu=function(u){return function(F){return V({x:(t=Z(F),e=u,(e-t)/2),y:0})(Q(F));var t,e}},tu=function(u){return function(F){if(0===F.length)return[];var e=F.filter(function(u){return u.width>0}),n=e.length;if(1===n){var r=F[0],i=F.slice(1);return r.x=0,[r].concat(i)}for(var o,a=[],s=function(u){return u.reduce(q,{x:NaN,y:NaN,width:NaN,height:NaN})}(e),l=(u-s.width)/(n-1),D=0;D<F.length;D++){var E=F[D];if(0!==E.width){var c;if(c=void 0===o?0:o.x+o.width+l,isNaN(c))throw new Error("Something went wrong with the justified layout calculation. x is NaN.");var d=Y(c)(E);o=d,a[D]=d}else a[D]=t({},E)}return a}},eu=function(u){return l(function(u,F){var t,e,n=null!=(t=F.bounds.height)?t:0;return g(F)&&(n+=F.fontProperties.descent),n>(null!=(e=null==u?void 0:u.bounds.height)?e:0)?F:u},p())(u)},nu=function(u){return""!==u},ru=function(u){return u.replace(/\s/g,"_ðŸ”ª_$&_ðŸ”ª_").split("_ðŸ”ª_").filter(function(u){return""!==u})},iu={debug:!1,debugConsole:!1,splitStyle:"words",imgMap:{},scaleIcons:!0,skipUpdates:!1,skipDraw:!1,drawWhitespace:!1,wrapEmoji:!0,errorHandler:void 0,supressConsole:!1,overdrawDecorations:0},ou={fontFamily:"courier",fontSize:10,fill:16777215,dropShadow:!0},au={default:W};Object.freeze(au),Object.freeze(W);var su={children:!0,texture:!0},lu=/*#__PURE__*/function(n){var o,s;s=n,(o=C).prototype=Object.create(s.prototype),o.prototype.constructor=o,e(o,s);var l,D,d,B=C.prototype;function C(F,e,r,i){var o;void 0===F&&(F=""),void 0===e&&(e={}),void 0===r&&(r={}),(o=n.call(this,i)||this)._options=void 0,o._needsUpdate=!0,o._needsDraw=!0,o._tokens=[],o._text="",o._tagStyles={},o._textFields=[],o._sprites=[],o._decorations=[],o._spriteTemplates={},o._debugGraphics=void 0,o._textContainer=void 0,o._decorationContainer=void 0,o._spriteContainer=void 0,o._debugContainer=void 0,o.logWarning=function(u,F){return E(o.options.errorHandler,o.options.supressConsole,function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(o))(u,F)},o._textContainer=new u.Container,o._spriteContainer=new u.Container,o._decorationContainer=new u.Container,o._debugContainer=new u.Container,o._debugGraphics=new u.Graphics,o.resetChildren();var a=t({},iu,r);o._options=a,e=t({default:{}},e),o.options.wrapEmoji&&(e.__EMOJI__=t({fontFamily:"sans-serif"},e.__EMOJI__));var s=t({},W,e.default);return e.default=s,o.tagStyles=e,o.options.imgMap&&o.createSpriteTemplatesFromSourceMap(o.options.imgMap),o.text=F,o}return B.setText=function(u,F){u===this._text&&!1===this._needsUpdate||(this._text=u,this._needsUpdate=!0,this.updateIfShould(F))},B.setTagStyles=function(u,F){var t=this;Object.entries(u).forEach(function(u){return t.setStyleForTag(u[0],u[1],!0)}),this._needsUpdate=!0,this.updateIfShould(F)},B.getStyleForTag=function(u,F){return void 0===F&&(F={}),H(u,this.tagStyles,F)},B.getStyleForTags=function(u){var F=this,t=u.map(function(u){return F.getStyleForTag(u.tagName,u.attributes)});return R(t)},B.setStyleForTag=function(u,F,t){return this.tagStyles[u]=F,"default"===u&&this.defaultStyle.imgSrc&&(this.logWarning("imgSrc-on-default",'Style "imgSrc" can not be set on the "default" style because it will add images to EVERY tag!'),this.defaultStyle.imgSrc=void 0),this._needsUpdate=!0,this.updateIfShould(t),!0},B.removeStylesForTag=function(u,F){return u in this.tagStyles&&(delete this.tagStyles[u],this._needsUpdate=!0,this.updateIfShould(F),!0)},B.setDefaultStyle=function(u,F){this.setStyleForTag("default",u,F)},B.destroyImgMap=function(){if(this.destroyed)throw new Error("destroyImgMap() was called after this object was already destroyed. You must call destroyImgMap() before destroy() because imgMap is cleared when the object is destroyed.");this._spriteContainer.destroy({children:!0,texture:!0,baseTexture:!0})},B.destroy=function(u){var F;"boolean"==typeof u&&(u={children:u}),F=t({},su,u),this._spriteContainer.destroy(!1),n.prototype.destroy.call(this,F),this._textFields=[],this._sprites=[],this._decorations=[],this._spriteTemplates={},this._tokens=[],this._tagStyles={},this._options.imgMap={},this._options.skipUpdates=!0,this._options.skipDraw=!0,this._options={}},B.resetChildren=function(){this._textContainer&&(this._textContainer.removeChildren(),this.removeChild(this._textContainer)),this._textContainer=new u.Container,this.addChild(this._textContainer),this._spriteContainer&&(this._spriteContainer.removeChildren(),this.removeChild(this._spriteContainer)),this._spriteContainer=new u.Container,this.addChild(this._spriteContainer),this._decorationContainer&&(this._decorationContainer.removeChildren(),this.removeChild(this._decorationContainer)),this._decorationContainer=new u.Container,this.addChild(this._decorationContainer),this._debugContainer&&(this._debugContainer.removeChildren(),this.removeChild(this._debugContainer)),this._debugContainer=new u.Container,this.addChild(this._debugContainer),this._textFields=[],this._sprites=[],this._decorations=[]},B.createSpriteTemplatesFromSourceMap=function(F){var e=this;this._spriteTemplates={},Object.entries(F).forEach(function(F){var n,r,i,o,a=F[0],s=F[1],l=new TypeError("The spriteSource provided for key "+a+" was not in a valid format. Please use a Sprite, Texture, BaseTexture, string, HTMLImageElement, HTMLVideoElement, HTMLCanvasElement, or SVGElement"),D=new Error("The spriteSource provided for key "+a+" appears to be a Sprite or Texture that has been destroyed or removed from PIXI.TextureCache probably using `destroy()` with aggressive options or `destroyImgMap()`."),E=null,d=new u.Sprite;try{s instanceof u.Sprite?d=s:c(s)?d=u.Sprite.from(s):function(u){return u instanceof HTMLImageElement}(o=s)||function(F){return F instanceof u.BaseTexture}(o)?d=u.Sprite.from(u.Texture.from(s)):(E=l,console.log(E))}catch(u){E=u,console.log(E)}if((c(s)&&null===s.baseTexture||void 0!==d&&(d.destroyed||null===(null==(n=d.texture)?void 0:n.baseTexture)))&&(E=D,console.log(E)),E)throw E;d.texture.baseTexture.addListener("update",function u(F){e.onImageTextureUpdate(F),F.removeListener("update",u)}),e.spriteTemplates[a]=d;var B=null!=(r=e.getStyleForTag(a))?r:{},C=t(((i={}).imgSrc=a,i),B);e.setStyleForTag(a,C)})},B.onImageTextureUpdate=function(u){this._needsUpdate=!0,this._needsDraw=!0,this.updateIfShould()},B.updateIfShould=function(u){return(!1===u||void 0===u&&!1===this.options.skipUpdates)&&(this.update(),!0)},B.update=function(F){var e=this.tagStyles,n=this.options,o=n.splitStyle,s=n.scaleIcons,l=this.options.imgMap&&this.spriteTemplates,D=function(F,e,n){var r,o=null!=(r=e.default)?r:{},a=[],s=[],l={};return function F(r){var D,E;if("string"==typeof r)return r;var c,d,B,C,h,f,p=r.tag,A=r.attributes,g=o,v="",y=null!=(D=s[s.length-1])?D:W.fontSize;p&&(a.push({tagName:p,attributes:void 0===A?{}:A}),v=(f=a,f.map(function(u){return u.tagName})).join(","),g=function(u,F,t){var e=JSON.stringify(u);if(void 0===t[e]){var n=F.default,r=u.map(function(u){return function(u,F){return H(u.tagName,F,u.attributes)}(u,F)}),i=[n].concat(r);t[e]=R(i)}return t[e]}(a,e,l),g=function(u){var F=u.textDecoration;if(void 0===F||"normal"===F)return u;var e=u.decorationColor||u.fill||W.fill,n=u.decorationThickness||1;function r(F,t){var r,i,o,a,s;return void 0===t&&(t=F),null!=(r=u.textDecoration)&&r.includes(F)?((s={})[t+"Color"]=null!=(i=u[t+"Color"])?i:e,s[t+"Thickness"]=null!=(o=u[t+"Thickness"])?o:n,s[t+"Offset"]=null!=(a=u[t+"Offset"])?a:0,s):{}}return t({},u,r("underline"),r("overline"),r("line-through","lineThrough"))}(g)),g.fontSize=void 0!==g.fontSize?(c=g.fontSize,B=(d=_(y)).value,C=d.unit,(h=_(c)).unit===i.percent?B*(h.value/100)+C:c):y;var w=p?e[p]:{};void 0!==w.color&&void 0===w.fill&&(g.fill=g.color),g.color=g.fill,s.push(g.fontSize);var b={style:g,tags:v,children:r.children.map(F)},x=null!=(E=g.imgSrc)?E:"";if(x){if(void 0===n)throw new Error('An image tag with imgSrc="'+x+'" was encountered, but no imgMap was provided. Please include a valid Sprite in the imgMap property in the options in your TaggedText constructor.');var m=n[x];if(void 0===m)throw new Error('An image tag with imgSrc="'+x+'" was encountered, but there was no matching sprite in the sprite map. Please include a valid Sprite in the imgMap property in the options in your TaggedText constructor.');if(m instanceof u.Sprite==0)throw new Error('The image reference you provided for "'+x+'" is not a Sprite. The imgMap can only accept PIXI.Sprite instances.');var S=function(F){return new u.Sprite(F.texture)}(m);b.children=[S].concat(b.children)}return a.pop(),s.pop(),b}(F)}(function(u,F,t,e){void 0===F&&(F=[]),void 0===t&&(t=!1),void 0===e&&(e=T),t&&function(u){return/\u{1F3F4}\u{E0067}\u{E0062}(?:\u{E0077}\u{E006C}\u{E0073}|\u{E0073}\u{E0063}\u{E0074}|\u{E0065}\u{E006E}\u{E0067})\u{E007F}|(?:\u{1F9D1}\u{1F3FF}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FF}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}-\u{1F3FE}]|(?:\u{1F9D1}\u{1F3FE}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FE}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}-\u{1F3FD}\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FD}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FD}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}\u{1F3FC}\u{1F3FE}\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FC}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FC}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}\u{1F3FD}-\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FB}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FB}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FC}-\u{1F3FF}]|\u{1F468}(?:\u{1F3FB}(?:\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FF}]|\u{1F468}[\u{1F3FB}-\u{1F3FF}])|\u{1F91D}\u200D\u{1F468}[\u{1F3FC}-\u{1F3FF}]|[\u2695\u2696\u2708]\uFE0F|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]))?|[\u{1F3FC}-\u{1F3FF}]\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FF}]|\u{1F468}[\u{1F3FB}-\u{1F3FF}])|\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F468}|[\u{1F468}\u{1F469}]\u200D(?:\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}])|\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FE}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FE}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FD}\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FD}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}\u{1F3FC}\u{1F3FE}\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FC}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}\u{1F3FD}-\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:[\u{1F468}\u{1F469}]\u200D[\u{1F466}\u{1F467}]|[\u{1F466}\u{1F467}])|\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC})?|(?:\u{1F469}(?:\u{1F3FB}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F3FC}-\u{1F3FF}]\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}]))|\u{1F9D1}[\u{1F3FB}-\u{1F3FF}]\u200D\u{1F91D}\u200D\u{1F9D1})[\u{1F3FB}-\u{1F3FF}]|\u{1F469}\u200D\u{1F469}\u200D(?:\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}])|\u{1F469}(?:\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FE}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FD}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FC}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FB}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F9D1}(?:\u200D(?:\u{1F91D}\u200D\u{1F9D1}|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FE}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FD}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FC}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FB}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F469}\u200D\u{1F466}\u200D\u{1F466}|\u{1F469}\u200D\u{1F469}\u200D[\u{1F466}\u{1F467}]|\u{1F469}\u200D\u{1F467}\u200D[\u{1F466}\u{1F467}]|(?:\u{1F441}\uFE0F\u200D\u{1F5E8}|\u{1F9D1}(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u{1F3FB}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\u{1F469}(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u{1F3FB}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\u{1F636}\u200D\u{1F32B}|\u{1F3F3}\uFE0F\u200D\u26A7|\u{1F43B}\u200D\u2744|(?:[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}])\u200D[\u2640\u2642]|[\u26F9\u{1F3CB}\u{1F3CC}\u{1F575}][\uFE0F\u{1F3FB}-\u{1F3FF}]\u200D[\u2640\u2642]|\u{1F3F4}\u200D\u2620|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}]\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F202}\u{1F237}\u{1F321}\u{1F324}-\u{1F32C}\u{1F336}\u{1F37D}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}\u{1F39F}\u{1F3CD}\u{1F3CE}\u{1F3D4}-\u{1F3DF}\u{1F3F5}\u{1F3F7}\u{1F43F}\u{1F4FD}\u{1F549}\u{1F54A}\u{1F56F}\u{1F570}\u{1F573}\u{1F576}-\u{1F579}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}\u{1F6CB}\u{1F6CD}-\u{1F6CF}\u{1F6E0}-\u{1F6E5}\u{1F6E9}\u{1F6F0}\u{1F6F3}])\uFE0F|\u{1F3F3}\uFE0F\u200D\u{1F308}|\u{1F469}\u200D\u{1F467}|\u{1F469}\u200D\u{1F466}|\u{1F635}\u200D\u{1F4AB}|\u{1F62E}\u200D\u{1F4A8}|\u{1F415}\u200D\u{1F9BA}|\u{1F9D1}(?:\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC}|\u{1F3FB})?|\u{1F469}(?:\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC}|\u{1F3FB})?|\u{1F1FD}\u{1F1F0}|\u{1F1F6}\u{1F1E6}|\u{1F1F4}\u{1F1F2}|\u{1F408}\u200D\u2B1B|\u2764\uFE0F\u200D[\u{1F525}\u{1FA79}]|\u{1F441}\uFE0F|\u{1F3F3}\uFE0F|\u{1F1FF}[\u{1F1E6}\u{1F1F2}\u{1F1FC}]|\u{1F1FE}[\u{1F1EA}\u{1F1F9}]|\u{1F1FC}[\u{1F1EB}\u{1F1F8}]|\u{1F1FB}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1EE}\u{1F1F3}\u{1F1FA}]|\u{1F1FA}[\u{1F1E6}\u{1F1EC}\u{1F1F2}\u{1F1F3}\u{1F1F8}\u{1F1FE}\u{1F1FF}]|\u{1F1F9}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1ED}\u{1F1EF}-\u{1F1F4}\u{1F1F7}\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FF}]|\u{1F1F8}[\u{1F1E6}-\u{1F1EA}\u{1F1EC}-\u{1F1F4}\u{1F1F7}-\u{1F1F9}\u{1F1FB}\u{1F1FD}-\u{1F1FF}]|\u{1F1F7}[\u{1F1EA}\u{1F1F4}\u{1F1F8}\u{1F1FA}\u{1F1FC}]|\u{1F1F5}[\u{1F1E6}\u{1F1EA}-\u{1F1ED}\u{1F1F0}-\u{1F1F3}\u{1F1F7}-\u{1F1F9}\u{1F1FC}\u{1F1FE}]|\u{1F1F3}[\u{1F1E6}\u{1F1E8}\u{1F1EA}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F4}\u{1F1F5}\u{1F1F7}\u{1F1FA}\u{1F1FF}]|\u{1F1F2}[\u{1F1E6}\u{1F1E8}-\u{1F1ED}\u{1F1F0}-\u{1F1FF}]|\u{1F1F1}[\u{1F1E6}-\u{1F1E8}\u{1F1EE}\u{1F1F0}\u{1F1F7}-\u{1F1FB}\u{1F1FE}]|\u{1F1F0}[\u{1F1EA}\u{1F1EC}-\u{1F1EE}\u{1F1F2}\u{1F1F3}\u{1F1F5}\u{1F1F7}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1EF}[\u{1F1EA}\u{1F1F2}\u{1F1F4}\u{1F1F5}]|\u{1F1EE}[\u{1F1E8}-\u{1F1EA}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}]|\u{1F1ED}[\u{1F1F0}\u{1F1F2}\u{1F1F3}\u{1F1F7}\u{1F1F9}\u{1F1FA}]|\u{1F1EC}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EE}\u{1F1F1}-\u{1F1F3}\u{1F1F5}-\u{1F1FA}\u{1F1FC}\u{1F1FE}]|\u{1F1EB}[\u{1F1EE}-\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1F7}]|\u{1F1EA}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1ED}\u{1F1F7}-\u{1F1FA}]|\u{1F1E9}[\u{1F1EA}\u{1F1EC}\u{1F1EF}\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1FF}]|\u{1F1E8}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1EE}\u{1F1F0}-\u{1F1F5}\u{1F1F7}\u{1F1FA}-\u{1F1FF}]|\u{1F1E7}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EF}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1E6}[\u{1F1E8}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F2}\u{1F1F4}\u{1F1F6}-\u{1F1FA}\u{1F1FC}\u{1F1FD}\u{1F1FF}]|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u26F9\u{1F3CB}\u{1F3CC}\u{1F575}][\uFE0F\u{1F3FB}-\u{1F3FF}]|\u{1F3F4}|[\u270A\u270B\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F46B}-\u{1F46D}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F48F}\u{1F491}\u{1F4AA}\u{1F57A}\u{1F595}\u{1F596}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F90C}\u{1F90F}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F934}\u{1F936}\u{1F977}\u{1F9B5}\u{1F9B6}\u{1F9BB}\u{1F9D2}\u{1F9D3}\u{1F9D5}][\u{1F3FB}-\u{1F3FF}]|[\u261D\u270C\u270D\u{1F574}\u{1F590}][\uFE0F\u{1F3FB}-\u{1F3FF}]|[\u270A\u270B\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F408}\u{1F415}\u{1F43B}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F46B}-\u{1F46D}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F48F}\u{1F491}\u{1F4AA}\u{1F57A}\u{1F595}\u{1F596}\u{1F62E}\u{1F635}\u{1F636}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F90C}\u{1F90F}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F934}\u{1F936}\u{1F977}\u{1F9B5}\u{1F9B6}\u{1F9BB}\u{1F9D2}\u{1F9D3}\u{1F9D5}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}]|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55\u{1F004}\u{1F0CF}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F201}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F236}\u{1F238}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F320}\u{1F32D}-\u{1F335}\u{1F337}-\u{1F37C}\u{1F37E}-\u{1F384}\u{1F386}-\u{1F393}\u{1F3A0}-\u{1F3C1}\u{1F3C5}\u{1F3C6}\u{1F3C8}\u{1F3C9}\u{1F3CF}-\u{1F3D3}\u{1F3E0}-\u{1F3F0}\u{1F3F8}-\u{1F407}\u{1F409}-\u{1F414}\u{1F416}-\u{1F43A}\u{1F43C}-\u{1F43E}\u{1F440}\u{1F444}\u{1F445}\u{1F451}-\u{1F465}\u{1F46A}\u{1F479}-\u{1F47B}\u{1F47D}-\u{1F480}\u{1F484}\u{1F488}-\u{1F48E}\u{1F490}\u{1F492}-\u{1F4A9}\u{1F4AB}-\u{1F4FC}\u{1F4FF}-\u{1F53D}\u{1F54B}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F5A4}\u{1F5FB}-\u{1F62D}\u{1F62F}-\u{1F634}\u{1F637}-\u{1F644}\u{1F648}-\u{1F64A}\u{1F680}-\u{1F6A2}\u{1F6A4}-\u{1F6B3}\u{1F6B7}-\u{1F6BF}\u{1F6C1}-\u{1F6C5}\u{1F6D0}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6EB}\u{1F6EC}\u{1F6F4}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F90D}\u{1F90E}\u{1F910}-\u{1F917}\u{1F91D}\u{1F920}-\u{1F925}\u{1F927}-\u{1F92F}\u{1F93A}\u{1F93F}-\u{1F945}\u{1F947}-\u{1F976}\u{1F978}\u{1F97A}-\u{1F9B4}\u{1F9B7}\u{1F9BA}\u{1F9BC}-\u{1F9CB}\u{1F9D0}\u{1F9E0}-\u{1F9FF}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7A}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAA8}\u{1FAB0}-\u{1FAB6}\u{1FAC0}-\u{1FAC2}\u{1FAD0}-\u{1FAD6}]/gu.test(u)}(u)&&(u=function(u){var F=new RegExp("((<|</)[^>]*)?("+/\u{1F3F4}\u{E0067}\u{E0062}(?:\u{E0077}\u{E006C}\u{E0073}|\u{E0073}\u{E0063}\u{E0074}|\u{E0065}\u{E006E}\u{E0067})\u{E007F}|(?:\u{1F9D1}\u{1F3FF}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FF}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}-\u{1F3FE}]|(?:\u{1F9D1}\u{1F3FE}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FE}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}-\u{1F3FD}\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FD}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FD}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}\u{1F3FC}\u{1F3FE}\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FC}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FC}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}\u{1F3FD}-\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FB}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FB}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FC}-\u{1F3FF}]|\u{1F468}(?:\u{1F3FB}(?:\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FF}]|\u{1F468}[\u{1F3FB}-\u{1F3FF}])|\u{1F91D}\u200D\u{1F468}[\u{1F3FC}-\u{1F3FF}]|[\u2695\u2696\u2708]\uFE0F|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]))?|[\u{1F3FC}-\u{1F3FF}]\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FF}]|\u{1F468}[\u{1F3FB}-\u{1F3FF}])|\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F468}|[\u{1F468}\u{1F469}]\u200D(?:\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}])|\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FE}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FE}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FD}\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FD}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}\u{1F3FC}\u{1F3FE}\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FC}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}\u{1F3FD}-\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:[\u{1F468}\u{1F469}]\u200D[\u{1F466}\u{1F467}]|[\u{1F466}\u{1F467}])|\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC})?|(?:\u{1F469}(?:\u{1F3FB}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F3FC}-\u{1F3FF}]\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}]))|\u{1F9D1}[\u{1F3FB}-\u{1F3FF}]\u200D\u{1F91D}\u200D\u{1F9D1})[\u{1F3FB}-\u{1F3FF}]|\u{1F469}\u200D\u{1F469}\u200D(?:\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}])|\u{1F469}(?:\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FE}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FD}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FC}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FB}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F9D1}(?:\u200D(?:\u{1F91D}\u200D\u{1F9D1}|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FE}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FD}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FC}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FB}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F469}\u200D\u{1F466}\u200D\u{1F466}|\u{1F469}\u200D\u{1F469}\u200D[\u{1F466}\u{1F467}]|\u{1F469}\u200D\u{1F467}\u200D[\u{1F466}\u{1F467}]|(?:\u{1F441}\uFE0F\u200D\u{1F5E8}|\u{1F9D1}(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u{1F3FB}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\u{1F469}(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u{1F3FB}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\u{1F636}\u200D\u{1F32B}|\u{1F3F3}\uFE0F\u200D\u26A7|\u{1F43B}\u200D\u2744|(?:[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}])\u200D[\u2640\u2642]|[\u26F9\u{1F3CB}\u{1F3CC}\u{1F575}][\uFE0F\u{1F3FB}-\u{1F3FF}]\u200D[\u2640\u2642]|\u{1F3F4}\u200D\u2620|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}]\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F202}\u{1F237}\u{1F321}\u{1F324}-\u{1F32C}\u{1F336}\u{1F37D}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}\u{1F39F}\u{1F3CD}\u{1F3CE}\u{1F3D4}-\u{1F3DF}\u{1F3F5}\u{1F3F7}\u{1F43F}\u{1F4FD}\u{1F549}\u{1F54A}\u{1F56F}\u{1F570}\u{1F573}\u{1F576}-\u{1F579}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}\u{1F6CB}\u{1F6CD}-\u{1F6CF}\u{1F6E0}-\u{1F6E5}\u{1F6E9}\u{1F6F0}\u{1F6F3}])\uFE0F|\u{1F3F3}\uFE0F\u200D\u{1F308}|\u{1F469}\u200D\u{1F467}|\u{1F469}\u200D\u{1F466}|\u{1F635}\u200D\u{1F4AB}|\u{1F62E}\u200D\u{1F4A8}|\u{1F415}\u200D\u{1F9BA}|\u{1F9D1}(?:\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC}|\u{1F3FB})?|\u{1F469}(?:\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC}|\u{1F3FB})?|\u{1F1FD}\u{1F1F0}|\u{1F1F6}\u{1F1E6}|\u{1F1F4}\u{1F1F2}|\u{1F408}\u200D\u2B1B|\u2764\uFE0F\u200D[\u{1F525}\u{1FA79}]|\u{1F441}\uFE0F|\u{1F3F3}\uFE0F|\u{1F1FF}[\u{1F1E6}\u{1F1F2}\u{1F1FC}]|\u{1F1FE}[\u{1F1EA}\u{1F1F9}]|\u{1F1FC}[\u{1F1EB}\u{1F1F8}]|\u{1F1FB}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1EE}\u{1F1F3}\u{1F1FA}]|\u{1F1FA}[\u{1F1E6}\u{1F1EC}\u{1F1F2}\u{1F1F3}\u{1F1F8}\u{1F1FE}\u{1F1FF}]|\u{1F1F9}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1ED}\u{1F1EF}-\u{1F1F4}\u{1F1F7}\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FF}]|\u{1F1F8}[\u{1F1E6}-\u{1F1EA}\u{1F1EC}-\u{1F1F4}\u{1F1F7}-\u{1F1F9}\u{1F1FB}\u{1F1FD}-\u{1F1FF}]|\u{1F1F7}[\u{1F1EA}\u{1F1F4}\u{1F1F8}\u{1F1FA}\u{1F1FC}]|\u{1F1F5}[\u{1F1E6}\u{1F1EA}-\u{1F1ED}\u{1F1F0}-\u{1F1F3}\u{1F1F7}-\u{1F1F9}\u{1F1FC}\u{1F1FE}]|\u{1F1F3}[\u{1F1E6}\u{1F1E8}\u{1F1EA}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F4}\u{1F1F5}\u{1F1F7}\u{1F1FA}\u{1F1FF}]|\u{1F1F2}[\u{1F1E6}\u{1F1E8}-\u{1F1ED}\u{1F1F0}-\u{1F1FF}]|\u{1F1F1}[\u{1F1E6}-\u{1F1E8}\u{1F1EE}\u{1F1F0}\u{1F1F7}-\u{1F1FB}\u{1F1FE}]|\u{1F1F0}[\u{1F1EA}\u{1F1EC}-\u{1F1EE}\u{1F1F2}\u{1F1F3}\u{1F1F5}\u{1F1F7}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1EF}[\u{1F1EA}\u{1F1F2}\u{1F1F4}\u{1F1F5}]|\u{1F1EE}[\u{1F1E8}-\u{1F1EA}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}]|\u{1F1ED}[\u{1F1F0}\u{1F1F2}\u{1F1F3}\u{1F1F7}\u{1F1F9}\u{1F1FA}]|\u{1F1EC}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EE}\u{1F1F1}-\u{1F1F3}\u{1F1F5}-\u{1F1FA}\u{1F1FC}\u{1F1FE}]|\u{1F1EB}[\u{1F1EE}-\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1F7}]|\u{1F1EA}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1ED}\u{1F1F7}-\u{1F1FA}]|\u{1F1E9}[\u{1F1EA}\u{1F1EC}\u{1F1EF}\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1FF}]|\u{1F1E8}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1EE}\u{1F1F0}-\u{1F1F5}\u{1F1F7}\u{1F1FA}-\u{1F1FF}]|\u{1F1E7}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EF}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1E6}[\u{1F1E8}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F2}\u{1F1F4}\u{1F1F6}-\u{1F1FA}\u{1F1FC}\u{1F1FD}\u{1F1FF}]|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u26F9\u{1F3CB}\u{1F3CC}\u{1F575}][\uFE0F\u{1F3FB}-\u{1F3FF}]|\u{1F3F4}|[\u270A\u270B\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F46B}-\u{1F46D}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F48F}\u{1F491}\u{1F4AA}\u{1F57A}\u{1F595}\u{1F596}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F90C}\u{1F90F}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F934}\u{1F936}\u{1F977}\u{1F9B5}\u{1F9B6}\u{1F9BB}\u{1F9D2}\u{1F9D3}\u{1F9D5}][\u{1F3FB}-\u{1F3FF}]|[\u261D\u270C\u270D\u{1F574}\u{1F590}][\uFE0F\u{1F3FB}-\u{1F3FF}]|[\u270A\u270B\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F408}\u{1F415}\u{1F43B}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F46B}-\u{1F46D}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F48F}\u{1F491}\u{1F4AA}\u{1F57A}\u{1F595}\u{1F596}\u{1F62E}\u{1F635}\u{1F636}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F90C}\u{1F90F}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F934}\u{1F936}\u{1F977}\u{1F9B5}\u{1F9B6}\u{1F9BB}\u{1F9D2}\u{1F9D3}\u{1F9D5}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}]|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55\u{1F004}\u{1F0CF}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F201}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F236}\u{1F238}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F320}\u{1F32D}-\u{1F335}\u{1F337}-\u{1F37C}\u{1F37E}-\u{1F384}\u{1F386}-\u{1F393}\u{1F3A0}-\u{1F3C1}\u{1F3C5}\u{1F3C6}\u{1F3C8}\u{1F3C9}\u{1F3CF}-\u{1F3D3}\u{1F3E0}-\u{1F3F0}\u{1F3F8}-\u{1F407}\u{1F409}-\u{1F414}\u{1F416}-\u{1F43A}\u{1F43C}-\u{1F43E}\u{1F440}\u{1F444}\u{1F445}\u{1F451}-\u{1F465}\u{1F46A}\u{1F479}-\u{1F47B}\u{1F47D}-\u{1F480}\u{1F484}\u{1F488}-\u{1F48E}\u{1F490}\u{1F492}-\u{1F4A9}\u{1F4AB}-\u{1F4FC}\u{1F4FF}-\u{1F53D}\u{1F54B}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F5A4}\u{1F5FB}-\u{1F62D}\u{1F62F}-\u{1F634}\u{1F637}-\u{1F644}\u{1F648}-\u{1F64A}\u{1F680}-\u{1F6A2}\u{1F6A4}-\u{1F6B3}\u{1F6B7}-\u{1F6BF}\u{1F6C1}-\u{1F6C5}\u{1F6D0}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6EB}\u{1F6EC}\u{1F6F4}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F90D}\u{1F90E}\u{1F910}-\u{1F917}\u{1F91D}\u{1F920}-\u{1F925}\u{1F927}-\u{1F92F}\u{1F93A}\u{1F93F}-\u{1F945}\u{1F947}-\u{1F976}\u{1F978}\u{1F97A}-\u{1F9B4}\u{1F9B7}\u{1F9BA}\u{1F9BC}-\u{1F9CB}\u{1F9D0}\u{1F9E0}-\u{1F9FF}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7A}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAA8}\u{1FAB0}-\u{1FAB6}\u{1FAC0}-\u{1FAC2}\u{1FAD0}-\u{1FAD6}]/gu.source+")+","gum");return u.replaceAll(F,function(u,F){return(null==F?void 0:F.length)>0?u:"<__EMOJI__>"+u+"</__EMOJI__>"})}(u)),u=function(u){return u.replace(M,function(u,F,t){void 0===t&&(t="");var e="<"+F+t+"></"+F+">";return(e=e.replace(/\s+/g," ")).replace(/\s>/g,">")})}(u);for(var n,i=k(F),o=[];n=i.exec(u);){var s=j(n);o.push(s)}var l=function(u,F){for(var t,e,n=[],i=u,o=0,a=r(F);!(e=a()).done;)if(t=e.value,void 0!==i){var s=t.index-o,l=s+t.tag.length;o+=l;var D=i.substr(0,s);n.push(D),i=i.substr(l)}return n.push(i),n}(u,o),D=function(u,F,t){void 0===t&&(t=T);var e={children:[]};""!==u[0]&&e.children.push(u[0]);for(var n=[e],r=0;r<F.length;r++){var i,o=F[r],s=null!=(i=u[r+1])?i:"";if(o.isOpening){var l=O(o);""!==s&&l.children.push(s),a(n).children.push(l),n.push(l)}else{var D=n.pop();if(void 0===D||D.tag!==o.tagName)throw new Error('Unexpected tag nesting. Found a closing tag "'+o.tagName+'" that doesn\'t match the previously open tag "'+(null==D?void 0:D.tag)+'"');""!==s&&a(n).children.push(s)}}return n.length>1&&t("unclosed-tags","Found "+(n.length-1)+" unclosed tags in\n"+n.map(function(u){return u.tag}).join("-")),e.children}(l,o,e);return{children:D}}(this.text,Object.keys(this.tagStyles),this.options.wrapEmoji,this.logWarning),e,l),E=function(F,e,n,i){var o,a;void 0===e&&(e="words"),void 0===n&&(n=!0);var s,l=F.style,D=F.children.flatMap(function F(r,o){return function(a){var l=[],D=G(r.align);if($.style=t({},r,{align:D,wordWrap:!1,dropShadowBlur:0,dropShadowDistance:0,dropShadowAngle:0,dropShadow:!1}),"string"==typeof a){var E=function(u,F){if("words"===F)return[u].flatMap(ru).filter(nu);if("characters"===F)return u.split("");var t=' Supported styles are "words" and "characters"',e=F.toLowerCase();throw 0===e.indexOf("char")?t='Did you mean "characters"?':0===e.indexOf("wor")&&(t='Did you mean "words"?'),new Error('Unsupported split style "'+F+'". '+t)}(a,e),c=E.map(function(u){var F,e;switch(r.textTransform){case"uppercase":$.text=u.toUpperCase();break;case"lowercase":$.text=u.toLowerCase();break;case"capitalize":$.text=I(u);break;default:$.text=u}if(s=t({},U($,!0)),!1===P(a)){var n,l=null!=(n=$.style.strokeThickness)?n:0;l>0&&(s.descent+=l/2,s.ascent+=l/2,s.fontSize=s.ascent+s.descent)}var D=null!=(F=r.fontScaleWidth)?F:1,E=null!=(e=r.fontScaleHeight)?e:1,c=isNaN(D)||D<0?0:D,d=isNaN(E)||E<0?0:E;$.scale.set(c,d),s.ascent*=d,s.descent*=d,s.fontSize*=d;var B=J($),C=function(u,F,t){var e=t.descent,n=t.ascent,r=e,i=n-r,o=F.width;return["underline","overline","lineThrough"].map(function(F){var t,a=u[F+"Color"],s=u[F+"Thickness"],l=null!=(t=u[F+"Offset"])?t:0;if(void 0!==a&&void 0!==s){var D=l;return"underline"===F?D+=n+e/2:"lineThrough"===F&&(D+=r+i/2),{color:a,bounds:{x:0,y:D,width:o,height:s}}}}).filter(function(u){return void 0!==u})}(r,B,s),h=function(u,F,t){var e,n,r,i;void 0===F&&(F={});var o=null!=(e=null==(n=u.fontFamily)?void 0:n.toString())?e:"",a=null!=(r=u.adjustBaseline)?r:0,s=null!=(i=F[o])?i:null,l=a;if("string"==typeof s){var D=s.split("%"),E=D.length>1,c=Number(D[0]);l+=E?t*(c/100):c}else l+=Number(s);return l}(r,i,s.ascent);s.ascent+=h;var f=r.letterSpacing;f&&(B.width+=f);var p,A={content:u,style:r,tags:o,bounds:B,fontProperties:s,textDecorations:C};return P(u)&&(B.width-=null!=(p=r.strokeThickness)?p:0),A});l=l.concat(c)}else if(a instanceof u.Sprite){var d=a,B="icon"===r.imgDisplay;if(s=t({},U($,!0)),B){var C=Math.max(d.height,1);if(C>1&&1===d.scale.y){var h=r.iconScale;d.scale.set(s.ascent/C*.8*(void 0===h?1:h))}if(n){var f=r.fontScaleWidth,p=r.fontScaleHeight,A=void 0===p?1:p;d.scale.x*=void 0===f?1:f,d.scale.y*=A}}var g=J(d),v=r.letterSpacing;v&&B&&(g.width+=v),l.push({content:d,style:r,tags:o,bounds:g,fontProperties:s,textDecorations:void 0})}else{var y=a.children,w=a.style,b=a.tags;if(void 0===w)throw new Error("Expected to find a 'style' property on "+a);l=l.concat(y.flatMap(F(w,b)))}return l}}(l,"")),E=l.wordWrap,c=l.wordWrapWidth,d=void 0!==c&&!1===isNaN(c)&&c>0,B=null!=(o=l.lineSpacing)?o:0,C=null!=(a=l.align)?a:"left";return function(u,F,e,n,i){for(var o,a={x:0,y:0},s=0,l=[],D=[],E=[],c=0,d=0;d<u.length;d++){var B=N(o=u[d]),C=w(o),h=x(o),f=g(o);((C||f)&&B||h||o.style.breakWords)&&M(),j(o),_(o),(C&&B||h)&&M(),(h||k(o)||a.x+s>F&&D.length>0)&&S(o)}l.length>0&&M(),D.length>0&&b();var A=function(u){for(var F,t=r(u);!(F=t()).done;)for(var e=F.value,n=e.length;n>=0;){var i=e[n-=1];if(m(i))break;for(var o,a=r(i);!(o=a()).done;){var s=o.value;s.bounds.width=0,s.bounds.height=Math.min(s.bounds.height,s.fontProperties.fontSize)}}return u}(E),v=function(u,F,t){var e,n;switch(u){case"left":n=e=Q;break;case"right":n=e=uu(F);break;case"center":n=e=Fu(F);break;case"justify":case"justify-left":e=tu(F),n=Q;break;case"justify-right":e=tu(F),n=uu(F);break;case"justify-center":e=tu(F),n=Fu(F);break;case"justify-all":n=e=tu(F);break;default:throw new Error("Unsupported alignment type "+u+'! Use one of : "left", "right", "center", "justify", "justify-left", "justify-right", justify-center", "justify-all"')}for(var i,o=r(t);!(i=o()).done;){for(var a,s,l=i.value,D=t.indexOf(l)===t.length-1||l.flat(2).filter(x).length>0,E=[],c=r(l);!(a=c()).done;){var d=K(a.value);if(E.push(d),isNaN(d.x))throw new Error("wordBounds not correct")}s=D?n(E):e(E);for(var B=0;B<l.length;B++){var C=l[B];l[B]=X(s[B].x)(C)}}return t}(n,F,A),y=function(u,F,e){for(var n,i=p(),o=0,a=0,s=[],l=r(u);!(n=l()).done;){var D,E,c,d,B,C=n.value,h=[],f=eu(C),A=(null!=(D=null==(E=f.bounds)?void 0:E.height)?D:0)+a,v=(null!=(c=null==(d=f.fontProperties)?void 0:d.ascent)?c:0)+a,y=a;a=0,x(C[C.length-1][0])&&(a=null!=(B=f.style.paragraphSpacing)?B:0),g(f)&&(A+=f.fontProperties.descent,v=f.bounds.height),0===A?f=i:i=f;for(var w,b=r(C);!(w=b()).done;){for(var m,S=[],_=r(w.value);!(m=_()).done;){var T=m.value,k=T.bounds,N=T.fontProperties,j=T.style,M=k.height,O=t({},k),I=j.valign,P=N.ascent;if(g(T)&&(P=T.bounds.height),x(T)){var z=t({},T);z.bounds.y=o+v-P,S.push(z)}else{var U=o;switch(I){case"bottom":U+=A-M;break;case"middle":U+=(A+y-M)/2;break;case"top":U+=y;break;default:U+=v-P}O.y=U;var W=t({},T,{bounds:O});S.push(W)}}h.push(S)}o+=A+F,s.push(h)}return s}(v,e);return y;function b(){E.push(D),D=[]}function S(u){b(),a.x=0,a.y=a.y+c,c=0,_(u)}function _(u){var F,t,n,r,i=null!=(F=null==u||null==(t=u.fontProperties)?void 0:t.fontSize)?F:0,o=null!=(n=null==u||null==(r=u.bounds)?void 0:r.height)?n:0;c=Math.max(c,i,e),!1===x(u)&&(c=Math.max(c,o))}function T(u){_(u),u.bounds.x=a.x,u.bounds.y=a.y,a.x+=u.bounds.width}function k(u){return"block"===u.style.imgDisplay}function N(u){var F;return null==(F=u.style.breakLines)||F}function j(u){l.push(u),s+=u.bounds.width}function M(){l.forEach(T),void 0!==l&&l.length>0&&D.push(l),l=[],s=0}}(D,E&&d?c:Number.POSITIVE_INFINITY,B,C)}(D,o,s,this.options.adjustFontBaseline);return this._tokens=E,this._needsDraw=!0,this.drawIfShould(F),this.options.debugConsole&&console.log(this.toDebugString()),this._needsUpdate=!1,E},B.drawIfShould=function(u){return(!1===u||void 0===u&&!1===this.options.skipDraw)&&(this.draw(),!0)},B.draw=function(){var u=this;if(this.resetChildren(),null===this.textContainer||null===this.spriteContainer)throw new Error("Somehow the textContainer or spriteContainer is null. This shouldn't be possible. Perhaps you've destroyed this object?");var F,t=this.textContainer,e=this.spriteContainer,n=this.options.drawWhitespace,i=n?this.tokensFlat:this.tokensFlat.filter(m),o=!1;i.forEach(function(n){if(y(n)&&(F=u.createTextFieldForToken(n),t.addChild(F),u.textFields.push(F),n.textDecorations&&n.textDecorations.length>0)){for(var i,a=r(n.textDecorations);!(i=a()).done;){var s=u.createDrawingForTextDecoration(i.value);F.addChild(s),u._decorations.push(s)}o=!0}g(n)&&(u.sprites.push(F=n.content),e.addChild(F));var l=n.bounds;F.x=l.x,F.y=l.y}),!1===n&&o&&this.logWarning("text-decoration-and-whitespace","Text decorations, such as underlines, will not appear under whitespace unless the `drawWhitespace` option is set to `true`."),this.options.debug&&this.drawDebug(),this._needsDraw=!1},B.createDrawingForTextDecoration=function(F){var t=this.options.overdrawDecorations,e=void 0===t?0:t,n=F.bounds,r=F.color,i=new u.Graphics;"string"==typeof r&&(0===r.indexOf("#")?(r="0x"+r.substring(1),r=parseInt(r,16)):this.logWarning("invalid-color","Sorry, at this point, only hex colors are supported for textDecorations like underlines. Please use either a hex number like 0x66FF33 or a string like '#66FF33'"));var o=n.y,a=n.height,s=Math.min(n.x-e,n.x+n.width/2),l=Math.max(n.width+2*e,0);return i.beginFill(r).drawRect(s,o,l,a).endFill(),i},B.createTextField=function(F,t,e){return new u.Text(t,e)},B.createTextFieldForToken=function(F){var e=F.style.textTransform,n=F.content;switch((void 0===e?"":e).toLowerCase()){case"lowercase":n=n.toLowerCase();break;case"uppercase":n=n.toUpperCase();break;case"capitalize":n=I(n)}var r=G(F.style.align),i=t({},F.style,{align:r}),o=this.createTextField(F,n,i),a=F.style,s=a.fontScaleWidth,l=void 0===s?1:s,D=a.fontScaleHeight,E=void 0===D?1:D,c=l=isNaN(l)||l<0?0:l,d=E=isNaN(E)||E<0?0:E,B=Math.max(l,E);if(B>1){var C;B===E?(c/=B,d=1):(d/=B,c=1);var h=o instanceof u.Text?null!=(C=o.style.fontSize)?C:0:o.fontSize,f=("string"==typeof h?function(u){var F=u.split(/(%|pt|px|r?em)/),t=F[1],e=parseFloat(F[0]);switch(t){case"%":return.16*e;case"em":case"rem":return 16*e;case"pt":return 1.3281472327365*e;default:return e}}(h):h)*B;o instanceof u.Text?o.style.fontSize=f:o.fontSize=f}return o.scale.set(c,d),o},B.toDebugString=function(){var u=this.tokens,F=this.untaggedText+"\n=====\n",t="\n    ";return void 0!==u&&(F+=u.map(function(u,F){return u.map(function(u,e){return u.map(function(u,n){var r="";y(u)?r=x(u)?"\\n":'"'+u.content+'"':g(u)&&(r="[Image]");var i="\n"+r+": ("+F+"/"+e+"/"+n+")";return i+=t+"tags: "+(0===u.tags.length?"<none>":u.tags.split(",").map(function(u){return"<"+u+">"}).join(", ")),i+=t+"style: "+Object.entries(u.style).map(function(u){return u.join(":")}).join("; "),(i+=t+"size: x:"+u.bounds.x+" y:"+u.bounds.y+" width:"+u.bounds.width+" height:"+u.bounds.height+" bottom:"+(u.bounds.height+u.bounds.y)+" right:"+(u.bounds.x+u.bounds.width))+t+"font: fontSize:"+u.fontProperties.fontSize+" ascent:"+u.fontProperties.ascent+" descent:"+u.fontProperties.descent}).join("\n")})})),F},B.drawDebug=function(){var F=this.tokens;if(this._debugGraphics=new u.Graphics,null===this.debugContainer)throw new Error("Somehow the debug container is null. This shouldn't be possible. Perhaps you've destroyed this object?");this.debugContainer.addChild(this._debugGraphics);var t=this._debugGraphics;function e(F,t){var e=new u.Text(F,ou);return e.x=t.x+1,e.y=t.y+1,e}t.clear();for(var n=0;n<F.length;n++){var i=F[n],o=K(i);if(this.defaultStyle.wordWrap){var a,s=null!=(a=this.defaultStyle.wordWrapWidth)?a:this.width;t.endFill().lineStyle(.5,16776960,.2).drawRect(0,o.y,s,o.height).endFill()}for(var l=0;l<i.length;l++)for(var D,E=r(i[l]);!(D=E()).done;){var c=D.value,d=g(c),B=c.bounds,C=B.x,h=B.y,f=B.width,p=h+(d?c.bounds.height:c.fontProperties.ascent),A=c.bounds.height;d&&(A+=c.fontProperties.descent),w(c)&&!1===this.options.drawWhitespace?t.lineStyle(1,11184810,1).beginFill(13421772,.2):t.lineStyle(1,16764108,1).beginFill(15658734,.2),x(c)?this.debugContainer.addChild(e("â†©ï¸Ž",{x:C,y:h+10})):t.lineStyle(.5,16776960,.2).drawRect(C,h,f,A).endFill().lineStyle(1,16777113,1).beginFill().drawRect(C,p,f,1).endFill(),y(c)&&this.debugContainer.addChild(e(""+c.tags,{x:C,y:h}))}}},l=C,d=[{key:"defaultStyles",get:function(){return au}},{key:"defaultOptions",get:function(){return iu}}],(D=[{key:"options",get:function(){return this._options}},{key:"needsUpdate",get:function(){return this._needsUpdate}},{key:"needsDraw",get:function(){return this._needsDraw}},{key:"tokens",get:function(){return this._tokens}},{key:"tokensFlat",get:function(){return this._tokens.flat(3)}},{key:"text",get:function(){return this._text},set:function(u){this.setText(u)}},{key:"untaggedText",get:function(){return this.text.replace(k(),"")}},{key:"tagStyles",get:function(){return this._tagStyles},set:function(u){this.setTagStyles(u)}},{key:"defaultStyle",get:function(){var u;return null==(u=this.tagStyles)?void 0:u.default},set:function(u){this.setDefaultStyle(u)}},{key:"textFields",get:function(){return this._textFields}},{key:"sprites",get:function(){return this._sprites}},{key:"decorations",get:function(){return this._decorations}},{key:"spriteTemplates",get:function(){return this._spriteTemplates}},{key:"textContainer",get:function(){return this._textContainer}},{key:"decorationContainer",get:function(){return this._decorationContainer}},{key:"spriteContainer",get:function(){return this._spriteContainer}},{key:"debugContainer",get:function(){return this._debugContainer}}])&&F(l.prototype,D),d&&F(l,d),Object.defineProperty(l,"prototype",{writable:!1}),C}(u.Sprite);export{lu as default};
//# sourceMappingURL=pixi-tagged-text.m.js.map
